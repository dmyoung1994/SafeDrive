# signalr-client

By: [Matthew Whited](mailto:matt@whited.us?subject=signalr-client)  (c) 2014
_____________________________________

## Summary

This is a signalR client for node.js.  The Intent of this project is to allow a node service
to communicate with a signalR hub over websockets.  

_____________________________________

## Usage

_see signalR-sample.js for more examples_

### Create instance of signalR client

	var signalR = require('signalr-client');
	var client  = new signalR.client(

		//signalR service URL
		"http://localhost:8080/signalR",

		// array of hubs to be supported in the connection
		['TestHub']
	);

### Binding callbacks from signalR hub

#### Method pattern

	client.on(
		// Hub Name (case insensitive)
		'TestHub',	

		// Method Name (case insensitive)
		'AddMessage',	

		// Callback function with parameters matching call from hub
		function(name, message) { 
			console.log("revc => " + name + ": " + message); 
		});

#### Direct pattern

	//If you bind directly to the hub handlers as show here any previous
	//	handlers for that hub will be removed!

	// hub name must be all lower case.
	client.handlers.testhub = { 
		// method name must be all lower case
		//		function signature should match call from hub
		addmessage: function(name, message) { 
			console.log("revc => " + name + ": " + message); 
		}
	};

### Calling methods on the signalR hub

#### From the client instance

    client.invoke(
		'TestHub', // Hub Name (case insensitive)
		'Send',	// Method Name (case insensitive)
		'client', 'invoked from client' //additional parameters to match signature
		);

#### From the hub instance

	var hub = client.hub('TestHub'); // Hub Name (case insensitive)
	hub.invoke(
		'Send',	// Method Name (case insensitive) 
		'hub', 'invoked from hub' //additional parameters to match called signature
		);
_____________________________________

## Change History

* v0.0.1: Initial Release
* v0.0.2: No functional code changes
	* Update ignore list to exclude project build files
	* Cleaned up README.md and added code samples
	* Updated signalR-sample.js to match samples
* v0.0.3: No functional code changes
	* Updated README.md and signalR-sample.js to correct minor spelling mistakes
* v0.0.4: Corrected messageid for payloads sent to server/hub
	* messageid should increment for each message in the connection instead
	* reset messageid on connection
* v0.0.5: Added support for retrying connection after the client loses contact with hub

_____________________________________

_Donations for this project are graciously accepted by paypal <matt@whited.us>
or by bitcoin 1NTVscATbu8fo6an8UMS5xiCpVCHV438sj_

